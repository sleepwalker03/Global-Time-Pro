<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Time Today">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.timetoday.online/islamabad.html" />
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Preloads -->
    <link rel="preload" href="timetodaysmall.png" as="image">
    <link rel="preload" href="timetodaysmall1.png" as="image">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://api.open-meteo.com">
    <link rel="preconnect" href="https://api.sunrise-sunset.org">
    
    <!-- Primary Meta Tags -->
    <meta name="description" content="Current time in Islamabad with detailed timezone information, weather, and local facts">
    <meta name="keywords" content="Islamabad time, Pakistan time, current time Islamabad, Islamabad clock, timezone Asia">
    
    <!-- Open Graph / Twitter -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.timetoday.online/islamabad.html">
    <meta property="og:title" content="Current Time in Islamabad - Time Today">
    <meta property="og:description" content="Check the current time in Islamabad with timezone details, weather information, and local facts">
    <meta property="og:image" content="https://www.timetoday.online/og-islamabad.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Current Time in Islamabad - Time Today">
    <meta name="twitter:description" content="Check the current time in Islamabad with timezone details, weather information, and local facts">
    <meta name="twitter:image" content="https://www.timetoday.online/og-islamabad.jpg">
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileImage" content="/mstile-150x150.png">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R1E5LS9596"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-R1E5LS9596');
    </script>
    
    <!-- Redirect Old Domain -->
    <script>
      if (window.location.hostname === 'global-time-pro.pages.dev') {
        window.location.replace('https://www.timetoday.online/islamabad.html');
      }
    </script>
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Current Time in Islamabad - Time Today",
      "description": "Check the current time in Islamabad with timezone details, weather information, and local facts",
      "url": "https://www.timetoday.online/islamabad.html",
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [{
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://www.timetoday.online/index.html"
        },{
          "@type": "ListItem",
          "position": 2,
          "name": "Islamabad Time"
        }]
      }
    }
    </script>
    
    <title>Current Time in Islamabad - Time Today</title>
    
    <!-- CSS & JS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/suncalc@1.8.0/suncalc.min.js"></script>
    
    <style>
        /* Prevent horizontal scrolling */
        html, body {
            overflow-x: hidden;
            width: 100%;
            max-width: 100%;
        }

        :root {
            --day-bg: linear-gradient(135deg, #72b5f7 0%, #8672f7 100%);
            --night-bg: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            --card-day: rgba(255, 255, 255, 0.9);
            --card-night: rgba(30, 30, 40, 0.9);
            --text-day: #333;
            --text-night: #f0f0f0;
            --accent-day: #4a6bff;
            --accent-night: #6bd3ff;
            --primary-color: #4a6bff;
            --secondary-color: #6bd3ff;
            --accent-color: #8672f7;
            --border-radius: 12px;
            --box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        /* Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: var(--day-bg);
            background-attachment: fixed;
            color: var(--text-day);
            transition: all 0.5s ease;
            line-height: 1.5;
            font-size: 16px;
        }

        body.night-mode {
            background: var(--night-bg);
            color: var(--text-night);
        }

        /* Responsive base font sizes */
        @media (max-width: 768px) {
            body {
                font-size: 15px;
            }
        }

        @media (max-width: 480px) {
            body {
                font-size: 14px;
            }
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            padding: 15px 20px;
            background: rgba(20, 20, 30, 0.8);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .logo:hover {
            transform: translateY(-2px);
        }

        .logo-image {
            height: 30px;
            filter: drop-shadow(0 0 5px rgba(107, 211, 255, 0.5));
            transition: all 0.3s ease;
        }

        .logo:hover .logo-image {
            filter: drop-shadow(0 0 8px rgba(107, 211, 255, 0.8));
        }

        .logo span {
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(90deg, #6bd3ff, #8672f7);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 0.5px;
        }

        /* Mode Toggle */
        button#mode-toggle {
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 30px;
            padding: 8px 12px;
            color: white;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }

        button#mode-toggle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(107,211,255,0.2), rgba(134,114,247,0.2));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        button#mode-toggle:hover::before {
            opacity: 1;
        }

        button#mode-toggle i {
            transition: all 0.3s ease;
        }

        button#mode-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(107, 211, 255, 0.2);
        }

        /* Navigation */
        .main-nav {
            background: rgba(20, 20, 30, 0.8);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            width: 100%;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            border-radius: 12px;
        }

        .nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav-list li {
            position: relative;
        }

        .nav-list a {
            color: #f0f0f0;
            text-decoration: none;
            font-weight: 500;
            padding: 15px 16px;
            display: block;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
        }

        .nav-list a::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #6bd3ff, #8672f7);
            transition: width 0.3s ease;
        }

        .nav-list a:hover::before {
            width: 70%;
        }

        .nav-list a:hover {
            color: #fff;
            text-shadow: 0 0 8px rgba(107, 211, 255, 0.5);
        }

        .nav-list a.active {
            color: #6bd3ff;
        }

        .nav-list a.active::before {
            width: 70%;
        }

        /* Dropdown */
        .dropdown {
            position: relative;
        }

        .dropdown-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dropdown-toggle i {
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        /* Base dropdown styles (shared) */
        .dropdown-menu {
            position: absolute;
            top: 100%;
            background: rgba(30, 30, 40, 0.95);
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            padding: 10px 0;
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .dropdown-menu::before {
            content: '';
            position: absolute;
            top: -5px;
            width: 10px;
            height: 10px;
            background: rgba(30, 30, 40, 0.95);
            border-top: 1px solid rgba(255,255,255,0.1);
            border-left: 1px solid rgba(255,255,255,0.1);
        }

        /* Desktop styles */
        @media (min-width: 769px) {
            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(10px);
            }
            
            .dropdown-menu::before {
                left: 50%;
                transform: translateX(-50%) rotate(45deg);
            }
            
            .dropdown:hover .dropdown-menu,
            .dropdown:focus-within .dropdown-menu {
                opacity: 1;
                visibility: visible;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* Mobile styles */
        @media (max-width: 768px) {
            .dropdown-menu {
                left: 0;
                transform: translateY(10px);
            }
            
            .dropdown-menu::before {
                left: 20px;
                transform: rotate(45deg);
            }
            
            .dropdown:hover .dropdown-menu,
            .dropdown:focus-within .dropdown-menu {
                opacity: 1;
                visibility: visible;
                transform: translateY(0);
            }
        }

        /* Shared hover states */
        .dropdown-menu li {
            display: block;
            width: 100%;
        }

        .dropdown-menu a {
            padding: 12px 25px;
            color: #ddd;
            font-size: 0.85rem;
        }

        .dropdown-menu a:hover {
            background: linear-gradient(90deg, rgba(107,211,255,0.1), rgba(134,114,247,0.1));
            color: #fff;
            padding-left: 30px;
        }

        /* Mobile Menu */
        .menu-toggle {
            display: none;
            cursor: pointer;
            padding: 12px;
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1001;
            background: rgba(30, 30, 40, 0.8);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .menu-toggle span {
            display: block;
            width: 22px;
            height: 2px;
            background: #fff;
            margin: 4px 0;
            transition: all 0.3s ease;
            position: relative;
        }

        /* Main Content */
        .content-container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: var(--card-day);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        body.night-mode .content-container {
            background-color: var(--card-night);
            color: var(--text-night);
            box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        }

        /* Islamabad Page Specific Styles */
        .time-container {
            text-align: center;
            margin: 2rem 0;
            padding: 30px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        body.night-mode .time-container {
            background: rgba(30, 30, 40, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .time-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #ff9ff3, #feca57, #1dd1a1);
        }

        .time-display {
            font-size: 5rem;
            font-weight: bold;
            color: var(--accent-day);
            margin-bottom: 10px;
            font-family: 'Share Tech Mono', monospace;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        body.night-mode .time-display {
            color: var(--accent-night);
            text-shadow: 0 0 10px rgba(107, 211, 255, 0.3);
        }

        .date-display {
            font-size: 1.8rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        body.night-mode .date-display {
            color: var(--secondary-color);
        }

        .daylight-info {
            font-size: 1.1rem;
            color: var(--text-color);
            margin-top: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        body.night-mode .daylight-info {
            color: var(--text-night);
        }

        /* Card styles */
        .card {
            padding: 25px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 20px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        body.night-mode .card {
            background: rgba(30, 30, 40, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .card h2 {
            color: var(--accent-day);
            border-bottom: 2px solid rgba(0,0,0,0.1);
            padding-bottom: 10px;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.night-mode .card h2 {
            color: var(--accent-night);
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .card h2 i {
            color: var(--accent-color);
        }

        /* Info grid styles */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .info-item {
            padding: 15px;
            background: rgba(255,255,255,0.5);
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        body.night-mode .info-item {
            background: rgba(0,0,0,0.2);
        }

        .info-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .info-item strong {
            display: block;
            color: var(--accent-day);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        body.night-mode .info-item strong {
            color: var(--accent-night);
        }

        /* Map container */
        .map-container {
            height: 400px;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            margin-bottom: 20px;
            border: 1px solid rgba(0,0,0,0.1);
        }

        body.night-mode .map-container {
            border: 1px solid rgba(255,255,255,0.1);
        }

        #map {
            height: 100%;
            width: 100%;
        }

        /* Weather styles */
        .weather-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        .weather-card {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            background: rgba(255,255,255,0.6);
            border-radius: var(--border-radius);
            text-align: center;
            transition: transform 0.3s ease;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        body.night-mode .weather-card {
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .weather-card:hover {
            transform: translateY(-5px);
        }

        .weather-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--accent-color);
        }

        /* Facts container */
        .fact-item {
            padding: 20px;
            margin-bottom: 15px;
            background: rgba(255,255,255,0.6);
            border-left: 4px solid var(--accent-color);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            transition: transform 0.3s ease;
        }

        body.night-mode .fact-item {
            background: rgba(0,0,0,0.2);
        }

        .fact-item:hover {
            transform: translateX(5px);
        }

        .fact-item h3 {
            margin-top: 0;
            color: var(--accent-day);
        }

        body.night-mode .fact-item h3 {
            color: var(--accent-night);
        }

        /* Error message */
        .error-message {
            color: #e53e3e;
            background: #fed7d7;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
        }

        body.night-mode .error-message {
            background: rgba(229, 62, 62, 0.2);
        }

        /* Sunrise/Sunset Icon Colors */
        .fa-sun {
            color: #fbbf24; /* Sunny yellow */
        }

        .fa-sunrise {
            color: #f97316; /* Sunrise orange */
        }

        .fa-sunset {
            color: #ef4444; /* Sunset red */
        }

        .daylight-info i {
            margin-right: 5px;
        }

        /* Help section styles */
        .help-section {
            margin-top: 40px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        body.night-mode .help-section {
            background: rgba(30, 30, 40, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .help-section h2 {
            color: var(--accent-day);
            border-bottom: 2px solid rgba(0,0,0,0.1);
            padding-bottom: 10px;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        body.night-mode .help-section h2 {
            color: var(--accent-night);
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }
        
        .help-link {
            position: absolute;
            top: 20px;
            right: 30px;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            z-index: 10;
        }
        
        body.night-mode .help-link {
            color: var(--accent-night);
        }
        
        .help-link i {
            transition: transform 0.3s ease;
        }
        
        .help-link:hover i {
            transform: translateX(3px);
        }

        /* Animation for time updates */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        .time-update {
            animation: pulse 0.5s ease;
        }

        /* Footer */
        footer {
            background: rgba(20, 20, 30, 0.95);
            color: #f0f0f0;
            padding: 30px 15px;
            margin-top: 40px;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .night-mode footer {
            background: rgba(10, 10, 20, 0.95);
            border: 1px solid rgba(255,255,255,0.05);
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .footer-logo img {
            height: 25px;
            filter: brightness(0) invert(1);
        }

        .footer-logo span {
            font-size: 1.2rem;
            font-weight: 700;
            background: linear-gradient(90deg, #6bd3ff, #8672f7);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .footer-about {
            max-width: 300px;
        }

        .footer-about p {
            font-size: 0.85rem;
            line-height: 1.6;
            opacity: 0.8;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
        }

        .footer-links h3 {
            font-size: 1rem;
            margin-bottom: 12px;
            position: relative;
            padding-bottom: 6px;
        }

        .footer-links h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 35px;
            height: 2px;
            background: linear-gradient(90deg, #6bd3ff, #8672f7);
        }

        .footer-links a {
            color: #f0f0f0;
            text-decoration: none;
            margin-bottom: 8px;
            font-size: 0.85rem;
            opacity: 0.8;
            transition: all 0.3s ease;
            position: relative;
            padding-left: 15px;
        }

        .footer-links a::before {
            content: '→';
            position: absolute;
            left: 0;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .footer-links a:hover {
            opacity: 1;
            padding-left: 20px;
            color: #6bd3ff;
        }

        .footer-links a:hover::before {
            opacity: 1;
            left: -5px;
        }

        .footer-social h3 {
            font-size: 1rem;
            margin-bottom: 12px;
            position: relative;
            padding-bottom: 6px;
        }

        .footer-social h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 35px;
            height: 2px;
            background: linear-gradient(90deg, #6bd3ff, #8672f7);
        }

        .social-icons {
            display: flex;
            gap: 12px;
        }

        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            color: #f0f0f0;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .social-icons a:hover {
            background: linear-gradient(135deg, #6bd3ff, #8672f7);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(107, 211, 255, 0.3);
        }

        .footer-bottom {
            grid-column: 1 / -1;
            text-align: center;
            padding-top: 25px;
            margin-top: 25px;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 0.75rem;
            opacity: 0.7;
        }

        @media (max-width: 480px) {
            .time-display {
                font-size: 3rem;
            }
            
            .date-display {
                font-size: 1.4rem;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
            }
            
            footer {
                margin-top: 30px;
                padding: 25px 15px;
            }
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            header {
                padding: 12px 15px;
            }

            .logo span {
                font-size: 1.2rem;
            }

            .logo-image {
                height: 26px;
            }

            .menu-toggle {
                display: block;
            }

            .nav-list {
                position: fixed;
                top: 0;
                right: -300px;
                width: 300px;
                height: 100vh;
                background: rgba(20, 20, 30, 0.98);
                flex-direction: column;
                justify-content: flex-start;
                padding-top: 70px;
                gap: 0;
                transition: right 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
                z-index: 1000;
                backdrop-filter: blur(20px);
                border-left: 1px solid rgba(255,255,255,0.1);
            }

            .nav-list li {
                width: 100%;
            }

            .nav-list a {
                padding: 15px 25px;
                border-bottom: 1px solid rgba(255,255,255,0.05);
            }

            .dropdown-menu {
                position: static;
                background: transparent;
                box-shadow: none;
                padding: 0;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.4s ease, opacity 0.3s ease;
                opacity: 1;
                visibility: visible;
                transform: none;
                border: none;
                border-radius: 0;
            }

            .dropdown-menu::before {
                left: 15px;
            }

            .dropdown.active .dropdown-menu {
                max-height: 500px;
            }

            .dropdown-menu a {
                padding-left: 35px;
                background: rgba(0,0,0,0.2);
            }

            .dropdown-toggle::after {
                content: none;
            }

            .dropdown-toggle i {
                transform: rotate(0deg);
                transition: transform 0.3s ease;
            }

            .dropdown.active .dropdown-toggle i {
                transform: rotate(180deg);
            }

            .nav-list.active {
                right: 0;
            }

            .menu-toggle.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
                background: #6bd3ff;
            }

            .menu-toggle.active span:nth-child(2) {
                opacity: 0;
            }

            .menu-toggle.active span:nth-child(3) {
                transform: rotate(-45deg) translate(7px, -6px);
                background: #8672f7;
            }

            /* Prevent body scrolling when menu is open */
            body.menu-open {
                overflow: hidden;
                position: fixed;
                width: 100%;
            }
        }

        /* Animation for menu items */
        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .nav-list.active li {
            opacity: 0;
            animation: fadeInRight 0.4s ease forwards;
        }

        .nav-list.active li:nth-child(1) { animation-delay: 0.1s; }
        .nav-list.active li:nth-child(2) { animation-delay: 0.2s; }
        .nav-list.active li:nth-child(3) { animation-delay: 0.3s; }
        .nav-list.active li:nth-child(4) { animation-delay: 0.4s; }
        .nav-list.active li:nth-child(5) { animation-delay: 0.5s; }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <a href="https://www.timetoday.online" class="logo">
            <img src="timetodaysmall.png" alt="Time Today Logo" class="logo-image">
            <span>Time Today</span>
        </a>
        <button id="mode-toggle" aria-label="Toggle dark/light mode">
            <i class="fas fa-moon"></i> <span class="mode-text">Dark Mode</span>
        </button>
    </header>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="menu-toggle" id="mobile-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <ul class="nav-list">
            <li><a href="index.html">Home</a></li>
            <li><a href="analog-world-clock.html">Analog Clock</a></li>
            <li><a href="time-zone-converter.html">UTC World Time</a></li>
            <li><a href="world-holiday-calendar.html">Holiday Calendar</a></li>
            <li><a href="stopwatch.html">Stopwatch</a></li>
            <li><a href="alarm.html">Alarm</a></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle">More <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-menu">
                    <li><a href="about.html">About</a></li>
                    <li><a href="privacy.html">Privacy</a></li>
                    <li><a href="terms.html">Terms</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="content-container">
            <!-- Need Help link at the top -->
            <a href="#how-to-use" class="help-link">
                <i class="fas fa-question-circle"></i> Need Help?
            </a>

            <div class="time-container">
                <h1><i class="fas fa-city"></i> Current Time in Islamabad</h1>
                <div class="time-display" id="localTime">00:00:00</div>
                <div class="date-display" id="localDate">Day, Month 00, 0000</div>
                <div class="daylight-info" id="daylightInfo">
                    <i class="fas fa-sun"></i> <span id="sunriseSunset">Loading sunrise/sunset data...</span>
                </div>
                <div id="timeError" class="error-message"></div>
            </div>

            <div class="card">
                <h2><i class="fas fa-globe-asia"></i> Timezone Information</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <strong>Timezone</strong>
                        <span id="timezone">Asia/Karachi</span>
                    </div>
                    <div class="info-item">
                        <strong>UTC Offset</strong>
                        <span id="utcOffset">UTC+05:00</span>
                    </div>
                    <div class="info-item">
                        <strong>Daylight Saving</strong>
                        <span id="dst">Not observed</span>
                    </div>
                    <div class="info-item">
                        <strong>Country</strong>
                        <span>Pakistan</span>
                    </div>
                    <div class="info-item">
                        <strong>Region</strong>
                        <span>Islamabad Capital Territory</span>
                    </div>
                    <div class="info-item">
                        <strong>Coordinates</strong>
                        <span>33°43'N / 73°04'E</span>
                    </div>
                    <div class="info-item">
                        <strong>Elevation</strong>
                        <span>507 m</span>
                    </div>
                    <div class="info-item">
                        <strong>Currency</strong>
                        <span>Pakistani Rupee (PKR)</span>
                    </div>
                    <div class="info-item">
                        <strong>Languages</strong>
                        <span>Urdu, English</span>
                    </div>
                    <div class="info-item">
                        <strong>Country Code</strong>
                        <span>+92</span>
                    </div>
                    <div class="info-item">
                        <strong>Population</strong>
                        <span>1.2 million</span>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2><i class="fas fa-map-marked-alt"></i> Islamabad Map</h2>
                <div class="map-container">
                    <div id="map"></div>
                </div>
            </div>

            <div class="card">
                <h2><i class="fas fa-cloud-sun"></i> Current Weather</h2>
                <div id="weatherError" class="error-message"></div>
                <div class="weather-container" id="weatherContainer">
                    <div class="weather-card">
                        <div class="weather-icon"><i class="fas fa-spinner fa-spin"></i></div>
                        <div>Loading weather...</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2><i class="fas fa-city"></i> About Islamabad</h2>
                <p>Islamabad is the capital city of Pakistan, and is federally administered as part of the Islamabad Capital Territory. Built as a planned city in the 1960s to replace Karachi as Pakistan's capital, Islamabad is noted for its high standards of living, safety, and abundant greenery. The city is home to the Faisal Mosque, the largest mosque in South Asia and the fourth largest in the world, as well as the Pakistan Monument and numerous government buildings.</p>
                
                <div class="fact-item">
                    <h3>Planned Capital City</h3>
                    <p>Islamabad was built in the 1960s specifically to serve as Pakistan's capital, designed by Greek architect Constantinos Apostolou Doxiadis. The city's master plan divides it into eight zones, including administrative, diplomatic, residential, and industrial areas.</p>
                </div>
                
                <div class="fact-item">
                    <h3>Margalla Hills National Park</h3>
                    <p>The city is located at the foothills of the Himalayan range, with the Margalla Hills National Park providing a scenic backdrop and numerous hiking trails. The park covers approximately 17,386 hectares and is home to diverse wildlife including leopards, foxes, and over 250 bird species.</p>
                </div>
                
                <div class="fact-item">
                    <h3>Diplomatic Enclave</h3>
                    <p>Islamabad hosts one of the largest diplomatic communities in the world, with over 150 embassies and high commissions located in the Diplomatic Enclave. The city serves as a hub for international organizations and diplomatic activities in South Asia.</p>
                </div>
            </div>

            <div class="card">
                <h2><i class="fas fa-exchange-alt"></i> Time Comparison</h2>
                <div class="info-grid" id="timeComparison">
                    <div class="info-item">
                        <div><i class="fas fa-spinner fa-spin"></i></div>
                        <div>Loading time comparisons...</div>
                    </div>
                </div>
            </div>

            <!-- How to Use This Page section -->
            <div class="help-section" id="how-to-use">
                <h2><i class="fas fa-question-circle"></i> How to Use This Page</h2>
                <p>This page provides real-time information about Islamabad time, weather, and local facts. Here's how to get the most from it:</p>
                
                <div class="info-grid" style="margin-top: 15px;">
                    <div class="info-item">
                        <strong><i class="fas fa-clock"></i> Live Clock</strong>
                        <p>The main display shows the current time in Islamabad, updating every second. The date and daylight information are also shown.</p>
                    </div>
                    <div class="info-item">
                        <strong><i class="fas fa-globe"></i> Timezone Info</strong>
                        <p>Detailed timezone information including UTC offset is available in the Timezone Information section. Pakistan does not observe daylight saving time.</p>
                    </div>
                    <div class="info-item">
                        <strong><i class="fas fa-map"></i> Interactive Map</strong>
                        <p>The Islamabad map shows key landmarks. Click on markers to see more information about each location.</p>
                    </div>
                    <div class="info-item">
                        <strong><i class="fas fa-cloud"></i> Weather Data</strong>
                        <p>Current weather conditions and a forecast for Islamabad are displayed with temperature and wind speed.</p>
                    </div>
                    <div class="info-item">
                        <strong><i class="fas fa-exchange-alt"></i> Time Comparisons</strong>
                        <p>Compare Islamabad time with 50+ global cities to help with scheduling calls or events across timezones.</p>
                    </div>
                    <div class="info-item">
                        <strong><i class="fas fa-lightbulb"></i> Pro Tips</strong>
                        <p>Use dark mode for night viewing. Bookmark this page for quick access to Islamabad time. Click landmarks on the map for details.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-about">
                <div class="footer-logo">
                    <img src="timetodaysmall1.png" alt="Time Today">
                    <span>Time Today</span>
                </div>
                <p>Your gateway to accurate timekeeping across the globe. Providing reliable time services.</p>
            </div>
            
            <div class="footer-links">
                <h3>Quick Links</h3>
                <a href="index.html">Home</a>
                <a href="analog-world-clock.html">Analog Clock</a>
                <a href="time-zone-converter.html">UTC World Time</a>
                <a href="world-holiday-calendar.html">Holiday Calendar</a>
                <a href="stopwatch.html">Stopwatch</a>
                <a href="alarm.html">Alarm</a>
            </div>
            
            <div class="footer-links">
                <h3>Information</h3>
                <a href="about.html">About Us</a>
                <a href="privacy.html">Privacy Policy</a>
                <a href="terms.html">Terms of Service</a>
                <a href="contact.html">Contact</a>
            </div>
            
            <div class="footer-social">
                <h3>Connect With Us</h3>
                <div class="social-icons">
                    <a href="https://x.com/TimeTodayOnline" aria-label="X (formerly Twitter)" target="_blank" rel="noopener noreferrer">
                        <img src="x-logo.png" alt="X" width="19" height="19">
                    </a>
                    <a href="https://www.facebook.com/TimeToday.Online" aria-label="Facebook" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/timetoday.online/" aria-label="Instagram" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.youtube.com/@TimeToday.Online" aria-label="Youtube" target="_blank" rel="noopener noreferrer"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Time Today. All rights reserved. | Designed with <i class="fas fa-heart" style="color: #ff4d4d;"></i> for time enthusiasts</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
        // Configuration data for Islamabad
        const locationConfig = {
            name: "Islamabad",
            timezone: "Asia/Karachi",
            country: "Pakistan",
            coordinates: { lat: 33.6844, lng: 73.0479 },
            population: "1.2 million",
            description: "Islamabad is the capital city of Pakistan, known for its high standards of living, safety, and abundant greenery.",
            timeComparisons: [
                // Middle East
                { city: "Dubai", timezone: "Asia/Dubai" },
                { city: "Riyadh", timezone: "Asia/Riyadh" },
                { city: "Tehran", timezone: "Asia/Tehran" },
                { city: "Doha", timezone: "Asia/Qatar" },
                { city: "Muscat", timezone: "Asia/Muscat" },
                
                // South Asia
                { city: "New Delhi", timezone: "Asia/Kolkata" },
                { city: "Mumbai", timezone: "Asia/Kolkata" },
                { city: "Dhaka", timezone: "Asia/Dhaka" },
                { city: "Kathmandu", timezone: "Asia/Kathmandu" },
                { city: "Colombo", timezone: "Asia/Colombo" },
                { city: "Male", timezone: "Indian/Maldives" },
                
                // East Asia
                { city: "Beijing", timezone: "Asia/Shanghai" },
                { city: "Tokyo", timezone: "Asia/Tokyo" },
                { city: "Seoul", timezone: "Asia/Seoul" },
                { city: "Hong Kong", timezone: "Asia/Hong_Kong" },
                { city: "Singapore", timezone: "Asia/Singapore" },
                
                // Europe
                { city: "London", timezone: "Europe/London" },
                { city: "Paris", timezone: "Europe/Paris" },
                { city: "Berlin", timezone: "Europe/Berlin" },
                { city: "Moscow", timezone: "Europe/Moscow" },
                { city: "Istanbul", timezone: "Europe/Istanbul" },
                
                // North America
                { city: "New York", timezone: "America/New_York" },
                { city: "Los Angeles", timezone: "America/Los_Angeles" },
                { city: "Toronto", timezone: "America/Toronto" },
                { city: "Chicago", timezone: "America/Chicago" },
                { city: "Mexico City", timezone: "America/Mexico_City" },
                
                // Africa
                { city: "Cairo", timezone: "Africa/Cairo" },
                { city: "Johannesburg", timezone: "Africa/Johannesburg" },
                { city: "Nairobi", timezone: "Africa/Nairobi" },
                { city: "Lagos", timezone: "Africa/Lagos" },
                
                // Oceania
                { city: "Sydney", timezone: "Australia/Sydney" },
                { city: "Melbourne", timezone: "Australia/Melbourne" },
                { city: "Auckland", timezone: "Pacific/Auckland" }
            ]
        };

        // Initialize the map
        const map = L.map('map').setView([locationConfig.coordinates.lat, locationConfig.coordinates.lng], 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);
        
        // Add a custom icon for Islamabad
        const islamabadIcon = L.divIcon({
            className: 'islamabad-marker',
            html: '<i class="fas fa-city" style="color: #046a38; font-size: 24px;"></i>', // Green color for Pakistan
            iconSize: [24, 24],
            iconAnchor: [12, 24]
        });
        
        L.marker([locationConfig.coordinates.lat, locationConfig.coordinates.lng], { icon: islamabadIcon }).addTo(map)
            .bindPopup(`<b>${locationConfig.name}</b><br>${locationConfig.coordinates.lat.toFixed(4)}° N, ${locationConfig.coordinates.lng.toFixed(4)}° E`)
            .openPopup();
        
        // Add some points of interest
        const landmarks = [
            { name: "Faisal Mosque", lat: 33.7294, lng: 73.0386 },
            { name: "Pakistan Monument", lat: 33.6935, lng: 73.0655 },
            { name: "Daman-e-Koh", lat: 33.7272, lng: 73.0444 },
            { name: "Lok Virsa Museum", lat: 33.6939, lng: 73.0572 }
        ];
        
        landmarks.forEach(landmark => {
            L.marker([landmark.lat, landmark.lng]).addTo(map)
                .bindPopup(landmark.name);
        });

        // Update the clock
        function updateClock() {
            const now = new Date();
            
            // Time formatting
            const timeOptions = {
                timeZone: locationConfig.timezone,
                hour12: true,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                timeZoneName: 'short'
            };
            
            // Date formatting
            const dateOptions = {
                timeZone: locationConfig.timezone,
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            
            try {
                const timeString = now.toLocaleTimeString('en-US', timeOptions);
                const dateString = now.toLocaleDateString('en-US', dateOptions);
                
                // Add animation class
                const timeElement = document.getElementById('localTime');
                timeElement.classList.add('time-update');
                setTimeout(() => {
                    timeElement.classList.remove('time-update');
                }, 500);
                
                timeElement.textContent = timeString;
                document.getElementById('localDate').textContent = dateString;
                
                // Calculate UTC offset properly for Islamabad
                const islamabadDateTimeFormat = new Intl.DateTimeFormat('en-US', {
                    timeZone: 'Asia/Karachi',
                    timeZoneName: 'longOffset'
                });
                const parts = islamabadDateTimeFormat.formatToParts(now);
                const offsetPart = parts.find(part => part.type === 'timeZoneName');
                const offsetString = offsetPart.value.replace('GMT', 'UTC');
                document.getElementById('utcOffset').textContent = offsetString;
                
                // Pakistan does not observe daylight saving
                document.getElementById('dst').textContent = 'Not observed (PKT all year)';
                
                // Update time comparisons
                updateTimeComparisons(now);
                
                // Update current year in footer
                document.getElementById('currentYear').textContent = now.getFullYear();
                
                // Clear any previous errors
                document.getElementById('timeError').style.display = 'none';
            } catch (error) {
                document.getElementById('timeError').style.display = 'block';
                document.getElementById('timeError').textContent = 
                    'Error updating time: ' + error.message;
            }
        }

        // Get sunrise/sunset data from free API
        async function getSunriseSunsetData() {
            const lat = locationConfig.coordinates.lat;
            const lng = locationConfig.coordinates.lng;
            
            try {
                const today = new Date();
                const dateStr = today.toISOString().split('T')[0];
                
                const response = await fetch(
                    `https://api.sunrise-sunset.org/json?lat=${lat}&lng=${lng}&date=${dateStr}&formatted=0`
                );
                const data = await response.json();
                
                if (data.status === 'OK') {
                    updateSunriseSunsetUI(data.results);
                } else {
                    throw new Error(data.status || 'Failed to get sunrise/sunset data');
                }
            } catch (error) {
                console.error('Error fetching sunrise/sunset data:', error);
                document.getElementById('sunriseSunset').innerHTML = `
                    <i class="fas fa-exclamation-triangle"></i> 
                    Could not load sunrise/sunset times. Showing approximate values.
                `;
                
                // Fallback to approximate values for Islamabad
                const month = new Date().getMonth();
                let sunrise, sunset;
                
                if (month >= 4 && month <= 9) { // Summer months
                    sunrise = '5:00 AM';
                    sunset = '7:15 PM';
                } else {
                    sunrise = '6:45 AM';
                    sunset = '5:30 PM';
                }
                
                document.getElementById('sunriseSunset').innerHTML += `
                    <br>Approximate: Sunrise ~${sunrise}, Sunset ~${sunset}
                `;
            }
        }

        function updateSunriseSunsetUI(sunData) {
            const sunrise = new Date(sunData.sunrise);
            const sunset = new Date(sunData.sunset);
            
            // Format times in 12-hour format with AM/PM
            const options = { hour: 'numeric', minute: '2-digit', hour12: true, timeZone: locationConfig.timezone };
            const sunriseStr = sunrise.toLocaleTimeString([], options);
            const sunsetStr = sunset.toLocaleTimeString([], options);
            
            // Calculate daylight duration
            const daylightMs = sunset - sunrise;
            const daylightHours = Math.floor(daylightMs / (1000 * 60 * 60));
            const daylightMinutes = Math.floor((daylightMs % (1000 * 60 * 60)) / (1000 * 60));
            
            document.getElementById('sunriseSunset').innerHTML = `
                <i class="fas fa-sunrise"></i> Sunrise: ${sunriseStr} | 
                <i class="fas fa-sunset"></i> Sunset: ${sunsetStr}<br>
                <i class="fas fa-sun"></i> Daylight: ${daylightHours}h ${daylightMinutes}m
            `;
        }

        // Get weather data from free API (using Open-Meteo)
        async function getWeatherData() {
            const lat = locationConfig.coordinates.lat;
            const lng = locationConfig.coordinates.lng;
            
            try {
                // First get current weather
                const currentResponse = await fetch(
                    `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lng}&current_weather=true&temperature_unit=celsius&windspeed_unit=kmh`
                );
                const currentData = await currentResponse.json();
                
                // Then get daily forecast for sunrise/sunset (in case the other API fails)
                const dailyResponse = await fetch(
                    `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lng}&daily=sunrise,sunset&timezone=auto`
                );
                const dailyData = await dailyResponse.json();
                
                updateWeatherUI(currentData, dailyData);
                document.getElementById('weatherError').style.display = 'none';
            } catch (error) {
                console.error('Error fetching weather data:', error);
                document.getElementById('weatherError').style.display = 'block';
                document.getElementById('weatherError').textContent = 
                    'Weather data temporarily unavailable. Please try again later.';
                
                // Fallback to mock data for Islamabad
                const mockWeather = {
                    current_weather: {
                        temperature: 25,
                        weathercode: 1, // 1=clear, 2=partly cloudy, 3=overcast
                        windspeed: 8
                    }
                };
                
                const mockDaily = {
                    daily: {
                        sunrise: ["2023-01-01T07:00"],
                        sunset: ["2023-01-01T17:30"]
                    }
                };
                
                updateWeatherUI(mockWeather, mockDaily);
            }
        }

        function updateWeatherUI(currentData, dailyData) {
            const container = document.getElementById('weatherContainer');
            
            // Clear previous content
            container.innerHTML = '';
            
            // Weather code to description mapping
            const weatherCodes = {
                0: 'Clear sky',
                1: 'Mainly clear',
                2: 'Partly cloudy',
                3: 'Overcast',
                45: 'Fog',
                48: 'Depositing rime fog',
                51: 'Light drizzle',
                53: 'Moderate drizzle',
                55: 'Dense drizzle',
                56: 'Light freezing drizzle',
                57: 'Dense freezing drizzle',
                61: 'Slight rain',
                63: 'Moderate rain',
                65: 'Heavy rain',
                66: 'Light freezing rain',
                67: 'Heavy freezing rain',
                71: 'Slight snow',
                73: 'Moderate snow',
                75: 'Heavy snow',
                77: 'Snow grains',
                80: 'Slight rain showers',
                81: 'Moderate rain showers',
                82: 'Violent rain showers',
                85: 'Slight snow showers',
                86: 'Heavy snow showers',
                95: 'Thunderstorm',
                96: 'Thunderstorm with hail',
                99: 'Thunderstorm with heavy hail'
            };
            
            // Get weather description
            const weatherCode = currentData.current_weather?.weathercode || 1;
            const weatherDesc = weatherCodes[weatherCode] || 'Mainly clear';
            
            // Get appropriate weather icon
            let weatherIcon = 'fa-sun';
            if (weatherCode === 0) weatherIcon = 'fa-sun';
            else if (weatherCode === 1) weatherIcon = 'fa-cloud-sun';
            else if (weatherCode >= 2 && weatherCode <= 3) weatherIcon = 'fa-cloud';
            else if (weatherCode >= 51 && weatherCode <= 67) weatherIcon = 'fa-cloud-rain';
            else if (weatherCode >= 71 && weatherCode <= 77) weatherIcon = 'fa-snowflake';
            else if (weatherCode >= 80 && weatherCode <= 82) weatherIcon = 'fa-cloud-showers-heavy';
            else if (weatherCode >= 95 && weatherCode <= 99) weatherIcon = 'fa-bolt';
            
            // Current weather card
            const currentCard = document.createElement('div');
            currentCard.className = 'weather-card';
            currentCard.innerHTML = `
                <div class="weather-icon"><i class="fas ${weatherIcon}"></i></div>
                <div><strong>Now</strong></div>
                <div style="font-size:1.5rem;margin:5px 0;">${Math.round(currentData.current_weather?.temperature || 25)}°C</div>
                <div>${weatherDesc}</div>
                <div style="font-size:0.8em;margin-top:5px;">
                    Wind: ${Math.round(currentData.current_weather?.windspeed || 8)} km/h
                </div>
            `;
            container.appendChild(currentCard);
            
            // Add forecast for next few hours (mock since free API doesn't provide hourly)
            const forecastTimes = ['12 PM', '3 PM', '6 PM', '9 PM'];
            const tempChanges = [2, 3, 1, -1]; // Temperature change from current
            
            forecastTimes.forEach((time, index) => {
                const temp = Math.round((currentData.current_weather?.temperature || 25) + tempChanges[index]);
                const card = document.createElement('div');
                card.className = 'weather-card';
                card.innerHTML = `
                    <div class="weather-icon"><i class="fas ${weatherIcon}"></i></div>
                    <div><strong>${time}</strong></div>
                    <div style="font-size:1.5rem;margin:5px 0;">${temp}°C</div>
                    <div>${weatherDesc}</div>
                `;
                container.appendChild(card);
            });
            
            // Update sunrise/sunset if the other API failed
            if (document.getElementById('sunriseSunset').textContent.includes('Loading')) {
                try {
                    const sunrise = dailyData.daily.sunrise[0].split('T')[1].substring(0, 5);
                    const sunset = dailyData.daily.sunset[0].split('T')[1].substring(0, 5);
                    document.getElementById('sunriseSunset').innerHTML = `
                        <i class="fas fa-sunrise"></i> Sunrise: ${sunrise} | 
                        <i class="fas fa-sunset"></i> Sunset: ${sunset}
                    `;
                } catch (e) {
                    console.log('Could not update sunrise/sunset from weather API');
                }
            }
        }

        // Update time comparisons with other cities
        function updateTimeComparisons(now) {
            const container = document.getElementById('timeComparison');
            container.innerHTML = '';
            
            locationConfig.timeComparisons.forEach(city => {
                const timeOptions = {
                    timeZone: city.timezone,
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: true
                };
                
                const timeString = now.toLocaleTimeString('en-US', timeOptions);
                const dateOptions = { timeZone: city.timezone, weekday: 'short' };
                const dayString = now.toLocaleDateString('en-US', dateOptions);
                
                const diffHours = getTimezoneDiffHours(locationConfig.timezone, city.timezone);
                
                const item = document.createElement('div');
                item.className = 'info-item';
                item.innerHTML = `
                    <strong>${city.city}</strong>
                    <div>${timeString}</div>
                    <div>${dayString}</div>
                    <div style="font-size:0.9em;color:#666;">${diffHours > 0 ? '+' : ''}${diffHours} hours</div>
                `;
                container.appendChild(item);
            });
        }

        // Helper function to get timezone difference in hours
        function getTimezoneDiffHours(tz1, tz2) {
            try {
                const date = new Date();
                const str1 = date.toLocaleString('en-US', { timeZone: tz1, timeZoneName: 'longOffset' });
                const str2 = date.toLocaleString('en-US', { timeZone: tz2, timeZoneName: 'longOffset' });
                
                // Extract UTC offset from strings like "1/1/2023, GMT+05:00"
                const offset1 = parseInt(str1.split('GMT')[1]) || 0;
                const offset2 = parseInt(str2.split('GMT')[1]) || 0;
                
                return offset2 - offset1;
            } catch (e) {
                console.error('Error calculating timezone difference:', e);
                return 0;
            }
        }

        // MOBILE MENU SCRIPT
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('mobile-menu');
            const navList = document.querySelector('.nav-list');
            
            menuToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                navList.classList.toggle('active');
                
                // Toggle body overflow when menu is open
                if (navList.classList.contains('active')) {
                    document.body.classList.add('menu-open');
                } else {
                    document.body.classList.remove('menu-open');
                }
            });
            
            // Mobile dropdown functionality
            document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        const dropdown = this.closest('.dropdown');
                        dropdown.classList.toggle('active');
                    }
                });
            });
            
            // Close menu when clicking on a link
            document.querySelectorAll('.nav-list a:not(.dropdown-toggle)').forEach(link => {
                link.addEventListener('click', function() {
                    if (navList.classList.contains('active')) {
                        menuToggle.classList.remove('active');
                        navList.classList.remove('active');
                        document.body.classList.remove('menu-open');
                    }
                });
            });
            
            // Set active page in navigation
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            document.querySelectorAll('.nav-list a').forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        });

        // DARK MODE SCRIPT
        const modeToggle = document.getElementById('mode-toggle');
        const modeIcon = modeToggle.querySelector('i');
        const modeText = document.querySelector('.mode-text');

        function updateModeText(isDark) {
            if (isDark) {
                modeIcon.classList.replace('fa-moon', 'fa-sun');
                modeText.textContent = 'Light Mode';
            } else {
                modeIcon.classList.replace('fa-sun', 'fa-moon');
                modeText.textContent = 'Dark Mode';
            }
        }

        // On load, check saved preference
        function loadMode() {
            const saved = localStorage.getItem('theme');
            if (saved === 'dark') {
                document.body.classList.add('night-mode');
                updateModeText(true);
            } else {
                updateModeText(false);
            }
        }

        // Toggle mode & save preference
        modeToggle.addEventListener('click', () => {
            const isDark = document.body.classList.toggle('night-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateModeText(isDark);
        });

        // Initial updates when page loads
        window.addEventListener('DOMContentLoaded', loadMode);
        updateClock();
        getWeatherData();
        getSunriseSunsetData();
        
        // Set up regular updates
        setInterval(updateClock, 1000); // Update time every second
        setInterval(getWeatherData, 3600000); // Update weather every hour
        setInterval(getSunriseSunsetData, 86400000); // Update sunrise/sunset daily
    </script>
</body>
</html>
